<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Diagnosa Kerusakan Laptop - Fuzzy Logic</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans text-gray-800">
  <header class="bg-indigo-600 text-white p-4 text-center shadow">
    <h1 class="text-2xl font-bold">Diagnosa Kerusakan Laptop</h1>
    <p class="text-sm">Berbasis Logika Fuzzy</p>
  </header>

  <main class="max-w-5xl mx-auto mt-8 p-6 bg-white shadow rounded-xl">
    <h2 class="text-xl font-semibold mb-4">Masukkan Data Laptop</h2>
    <form id="fuzzyForm" class="space-y-4">
      <div>
        <label class="block mb-1 font-medium">Nama Laptop</label>
        <input type="text" id="namaLaptop" class="w-full border p-2 rounded" placeholder="Contoh: Asus Vivobook">
      </div>
      <div>
        <label class="block mb-1 font-medium">Model / Seri</label>
        <input type="text" id="seriLaptop" class="w-full border p-2 rounded" placeholder="Contoh: X415EA">
      </div>
      <div>
        <label class="block mb-1 font-medium">Suhu CPU/GPU (Â°C)</label>
        <input type="number" id="suhu" min="20" max="120" value="40" class="w-full border p-2 rounded">
      </div>
      <div>
        <label class="block mb-1 font-medium">Penggunaan CPU (%)</label>
        <input type="number" id="cpu" min="0" max="100" value="20" class="w-full border p-2 rounded">
      </div>
      <div>
        <label class="block mb-1 font-medium">Penggunaan RAM (%)</label>
        <input type="number" id="ram" min="0" max="100" value="30" class="w-full border p-2 rounded">
      </div>
      <div>
        <label class="block mb-1 font-medium">Ruang Kosong Penyimpanan (%)</label>
        <input type="number" id="disk" min="0" max="100" value="50" class="w-full border p-2 rounded">
      </div>
      <div>
        <label class="block mb-1 font-medium">SMART (Reallocated Sectors)</label>
        <input type="number" id="smart" min="0" value="0" class="w-full border p-2 rounded">
      </div>
      <div>
        <label class="block mb-1 font-medium">Kesehatan Baterai (%)</label>
        <input type="number" id="baterai" min="0" max="100" value="90" class="w-full border p-2 rounded">
      </div>
      <div>
        <label class="block mb-1 font-medium">Jumlah Siklus Baterai</label>
        <input type="number" id="siklus" min="0" value="200" class="w-full border p-2 rounded">
      </div>
      <div>
        <label class="block mb-1 font-medium">Adaptor / LED / Kipas / Beep Code</label>
        <input type="text" id="statusTambahan" class="w-full border p-2 rounded" placeholder="Contoh: LED tidak menyala, beep 3x">
      </div>
      <div>
        <button type="button" onclick="analisis()" class="bg-indigo-600 text-white px-4 py-2 rounded shadow">Analisis Sekarang</button>
      </div>
    </form>

    <div id="hasil" class="mt-8 hidden">
      <h2 class="text-xl font-semibold mb-4">Hasil Analisis</h2>
      <p class="mb-2"><strong>Laptop:</strong> <span id="outNama"></span> (<span id="outSeri"></span>)</p>
      <div id="scoreArea" class="space-y-3"></div>
      <div class="mt-4 p-4 border rounded bg-gray-50">
        <h3 class="font-semibold mb-2">Rekomendasi:</h3>
        <ul id="rekomendasi" class="list-disc pl-5 text-sm"></ul>
      </div>
      <div class="mt-4 p-4 border rounded bg-gray-50">
        <h3 class="font-semibold mb-2">Output Spesifik:</h3>
        <p id="spesifik" class="text-sm text-gray-700"></p>
      </div>
    </div>
  </main>

  <footer class="text-center text-gray-600 text-sm py-4 mt-8">
    &copy; 2025 Diagnosa Laptop Fuzzy - Dibuat dengan Tailwind
  </footer>

  <script>
    function analisis() {
      const nama = document.getElementById('namaLaptop').value || '-';
      const seri = document.getElementById('seriLaptop').value || '-';
      const suhu = parseFloat(document.getElementById('suhu').value);
      const cpu = parseFloat(document.getElementById('cpu').value);
      const ram = parseFloat(document.getElementById('ram').value);
      const disk = parseFloat(document.getElementById('disk').value);
      const smart = parseFloat(document.getElementById('smart').value);
      const baterai = parseFloat(document.getElementById('baterai').value);
      const siklus = parseFloat(document.getElementById('siklus').value);
      const tambahan = document.getElementById('statusTambahan').value;

      let hasil = {
        matiTotal: 0,
        motherboard: 0,
        thermal: 0,
        bateraiRusak: 0,
        lemot: 0,
        storage: 0,
        ramRusak: 0,
        software: 0
      };

      // logika fuzzy sederhana
      if (suhu > 85) hasil.thermal += 80;
      else if (suhu > 70) hasil.thermal += 50;

      if (cpu > 90 || ram > 90) hasil.lemot += 70;
      else if (cpu > 70 || ram > 70) hasil.lemot += 40;

      if (disk < 10) hasil.storage += 80;
      else if (disk < 20) hasil.storage += 50;

      if (smart > 10) hasil.storage += 70;

      if (baterai < 60 || siklus > 800) hasil.bateraiRusak += 70;
      else if (baterai < 80 || siklus > 500) hasil.bateraiRusak += 40;

      if (tambahan.toLowerCase().includes('tidak menyala') || tambahan.toLowerCase().includes('beep')) hasil.matiTotal += 90;
      if (tambahan.toLowerCase().includes('led tidak menyala')) hasil.motherboard += 70;

      // tampilkan hasil
      document.getElementById('outNama').innerText = nama;
      document.getElementById('outSeri').innerText = seri;

      const area = document.getElementById('scoreArea');
      area.innerHTML = '';
      for (const [key, val] of Object.entries(hasil)) {
        area.innerHTML += `
          <div>
            <p class="font-medium capitalize">${key.replace(/([A-Z])/g, ' $1')}</p>
            <div class="w-full bg-gray-200 rounded-full h-4">
              <div class="bg-indigo-600 h-4 rounded-full" style="width: ${Math.min(val,100)}%"></div>
            </div>
            <p class="text-xs text-gray-600">Skor: ${val}</p>
          </div>`;
      }

      // rekomendasi
      const rekom = document.getElementById('rekomendasi');
      rekom.innerHTML = '';
      if (hasil.thermal > 60) rekom.innerHTML += '<li>Bersihkan kipas & ganti thermal paste</li>';
      if (hasil.bateraiRusak > 60) rekom.innerHTML += '<li>Pertimbangkan ganti baterai</li>';
      if (hasil.storage > 60) rekom.innerHTML += '<li>Backup data dan cek kesehatan HDD/SSD</li>';
      if (hasil.lemot > 60) rekom.innerHTML += '<li>Upgrade RAM atau optimasi software</li>';
      if (hasil.matiTotal > 60) rekom.innerHTML += '<li>Cek adaptor, motherboard, bawa ke service</li>';
      if (rekom.innerHTML === '') rekom.innerHTML = '<li>Kondisi relatif normal</li>';

      // output spesifik
      let outSpesifik = '';
      if (hasil.matiTotal > 80) outSpesifik = 'Kemungkinan besar laptop tidak dapat dinyalakan karena kegagalan hardware utama (motherboard atau power supply).';
      else if (hasil.thermal > 70) outSpesifik = 'Laptop mengalami overheating, potensi kerusakan ada pada kipas atau sistem pendingin.';
      else if (hasil.bateraiRusak > 60) outSpesifik = 'Baterai cepat habis atau rusak, siklus tinggi atau kapasitas sudah turun drastis.';
      else if (hasil.storage > 60) outSpesifik = 'Penyimpanan bermasalah, kemungkinan bad sector atau penuh sehingga sistem melambat.';
      else if (hasil.lemot > 60) outSpesifik = 'Laptop lemot akibat penggunaan CPU/RAM tinggi atau software berat.';
      else outSpesifik = 'Tidak ada indikasi kerusakan serius terdeteksi.';

      document.getElementById('spesifik').innerText = outSpesifik;

      document.getElementById('hasil').classList.remove('hidden');
    }
  </script>
</body>
</html>
